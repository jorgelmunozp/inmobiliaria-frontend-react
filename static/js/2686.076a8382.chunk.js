"use strict";(self.webpackChunkinmobiliaria_frontend_react=self.webpackChunkinmobiliaria_frontend_react||[]).push([[2686],{2686:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var o=t(5043),s=t(4885),r=t(6213),l=t(64),n=t.n(l),d=t(579);const c=(0,o.lazy)(()=>t.e(4922).then(t.bind(t,4922))),i=(0,o.lazy)(()=>t.e(7466).then(t.bind(t,7466))),m=(0,o.lazy)(()=>t.e(837).then(t.bind(t,837))),u=(0,o.lazy)(()=>Promise.all([t.e(9577),t.e(9653)]).then(t.bind(t,9653))),p=(0,o.lazy)(()=>t.e(9480).then(t.bind(t,9480))),h=(0,o.lazy)(()=>t.e(5265).then(t.bind(t,5265))),x=(0,o.lazy)(()=>t.e(8487).then(t.bind(t,8487))),b=(0,o.lazy)(()=>t.e(6355).then(t.bind(t,6355))),y=e=>{let{urlApiInmuebles:a,categorias:t,tipos:l,estados:y,caracteristicas:f,paises:g}=e,j=!1;const[w,N]=(0,o.useState)(0),[v,S]=(0,o.useState)(""),[C,L]=(0,o.useState)(""),[$,I]=(0,o.useState)(""),[k,z]=(0,o.useState)(""),[F,q]=(0,o.useState)(""),[D,E]=(0,o.useState)(""),[O,A]=(0,o.useState)(""),[R,T]=(0,o.useState)(""),[Q,_]=(0,o.useState)(""),[B,J]=(0,o.useState)(""),[P,K]=(0,o.useState)(""),[U,W]=(0,o.useState)(""),[H,V]=(0,o.useState)(""),[G,M]=(0,o.useState)(""),[X,Y]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[ae,te]=(0,o.useState)(""),[oe,se]=(0,o.useState)(""),[re,le]=(0,o.useState)([]);let ne=r.v+("arriendo"===$.toLocaleLowerCase()?" arrienda ":"venta"===$.toLocaleLowerCase()?" vende ":"")+oe.toLocaleLowerCase()+("apartamento"===k.toLocaleLowerCase()?" apartamento en ":"casa"===k.toLocaleLowerCase()?" casa en ":"")+D+(X?", sector "+X:"")+(U||H||G?(U?", en la ciudad de "+U+", "+H+", "+G:H?", en el departamento de "+H+", "+G:", en el pa\xeds "+G)+". ":"")+(B?"Tiene un \xe1rea de "+B+" m2":"")+(O||R||Q?" y consta de "+(O?"0"===O?"":"1"===O?O+" habitaci\xf3n, ":O+" habitaciones, ":"")+(R?"0"===R?"":"1"===R?R+" ba\xf1o, ":R+" ba\xf1os, ":"")+(Q?"0"===Q?"":"1"===Q?Q+" parqueadero ":Q+" parqueaderos ":""):"")+(Z?"y su estrato es "+Z+". ":"")+(P?"Su valor es "+s.K.format(P)+("arriendo"===$.toLocaleLowerCase()?" mensual. ":". "):"");(0,o.useEffect)(()=>{-1!==F.lastIndexOf("@")?"apartamento"===k.toLocaleLowerCase()?se(F.replace(/.$/,"o")):"casa"===k.toLocaleLowerCase()&&se(F.replace(/.$/,"a")):-1===F.lastIndexOf("@")&&se(F),te(ne)},[F,ne,k]);const[de,ce]=(0,o.useState)({name:"",data:""}),ie=new FileReader;v&&ie.readAsDataURL(v),ie.onload=()=>{ce({name:k.toLocaleLowerCase()+"-"+D.toLocaleLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ").join("-")+"-0."+v.name.split(".")[1],data:ie.result})},ie.onerror=e=>{console.log("Error img -> img base 64: ",e)};const[me,ue]=(0,o.useState)([{name:"",data:""}]);(0,o.useEffect)(()=>{if(re){const e=[{name:"",data:""}];for(let a=0;a<re.length;a++){const t=new FileReader;t.readAsDataURL(re[a]),t.onload=()=>{e[a]={name:k.toLocaleLowerCase()+"-"+D.toLocaleLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ").join("-")+"-"+a+"."+re[a].name.split(".")[1],data:t.result},ue(e)},t.onerror=e=>{console.log("Error img -> img base 64: ",e)}}}},[re,k,D]);const pe=`{\n    "detalle": {\n      "nombre": "${D}",\n      "imagen": ${JSON.stringify(de)},\n      "categoria": "${k}",\n      "tipo": "${$}",\n      "habitaciones": "${O}",\n      "ba\xf1os": "${R}",\n      "parqueaderos": "${Q}",\n      "area": "${B}",\n      "valor": "${P}",\n      "descripcion": "${ae}",\n      "ciudad": "${U}",\n      "departamento": "${H}",\n      "pais": "${G}",\n      "sector": "${X}",\n      "estrato": "${Z}",\n      "estado": "${C}",\n      "images": ${JSON.stringify(me)}\n    }\n  }`;return""!==D&&""!==v&&""!==k&&""!==$&&""!==O&&""!==R&&""!==Q&&""!==B&&""!==P&&""!==ae&&""!==U&&""!==X&&""!==Z&&""!==C&&(j=!0),200<=w&&w<=299?(N(0),n().fire({title:"Nuevo Inmueble",text:"Inmueble creado con \xe9xito",icon:"success",confirmButtonColor:r.e}),S(""),E(""),z(""),I(""),se(""),A(""),T(""),_(""),J(""),K(""),te(""),W(""),V(""),M(""),Y(""),ee(""),L(""),le("")):(400<=w&&w<=499||500<=w&&w<=599)&&(N(0),n().fire({title:"Lo sentimos",text:"El inmueble no pudo ser creado",icon:"error",confirmButtonColor:r.e})),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h5",{className:"my-3 my-lg-4 my-md-4 my-sm-5",children:(0,d.jsx)("center",{children:"Subir Inmueble"})}),(0,d.jsx)("center",{children:(0,d.jsx)(b,{color:"#aaaaaa",height:2,width:2})}),(0,d.jsxs)("div",{className:"container border mt-3 mb-2 pt-1 shadow-sm",children:[(0,d.jsxs)("div",{className:"row d-block d-sm-flex",children:[(0,d.jsx)("div",{className:"col col-sm-4 my-2",children:(0,d.jsx)(m,{id:"image-primary",placeholder:"Imagen",iconSize:7.5,iconStrokeWidth:.5,multiple:!1,acceptFiles:"image/*",file:v,setFile:S,className:"input form-control border-muted text-muted shadow-sm"})}),(0,d.jsxs)("div",{className:"col",children:[(0,d.jsxs)("div",{className:"row d-block d-sm-flex",children:[(0,d.jsx)("div",{className:"col my-2 my-md-2 my-sm-1",children:(0,d.jsx)(i,{placeholder:"Estado",query:C,defaultSelect:"Disponible",parameters:y,setQuery:L,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(i,{placeholder:"Tipo negocio",query:$,parameters:l.slice(1,l.length),setQuery:I,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})})]}),(0,d.jsxs)("div",{className:"row d-block d-sm-flex",children:[(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(i,{placeholder:"Categor\xeda",query:k,parameters:t.slice(1,t.length),setQuery:z,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(i,{placeholder:"Caracter\xedsticas",query:oe,parameters:f,setQuery:q,className:"input form-control rounded border-muted border-1 text-muted shadow-sm"})})]})]})]}),(0,d.jsxs)("div",{className:"row d-block d-sm-flex",children:[(0,d.jsx)("div",{className:"col my-2 my-md-2 my-sm-1",children:(0,d.jsx)(p,{id:"nombre",placeholder:"Nombre",inputText:D,onInputChange:e=>E(e.target.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col col-sm-4 my-2 my-md-2 my-sm-1",children:(0,d.jsx)(p,{id:"sector",placeholder:"Sector",inputText:X,onInputChange:e=>Y(e.target.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})})]}),(0,d.jsx)("div",{className:"row d-block d-sm-flex",children:(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(c,{countries:g,country:G,setCountry:M,state:H,setState:V,city:U,setCity:W})})}),(0,d.jsxs)("div",{className:"row d-block d-sm-flex",children:[(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{placeholder:"\xc1rea",id:"area",value:B,onInputChange:e=>J(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{placeholder:"Habitaciones",id:"habitaciones",value:O,onInputChange:e=>A(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{placeholder:"Ba\xf1os",id:"ba\xf1os",value:R,onInputChange:e=>T(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{placeholder:"Parqueaderos",id:"parqueaderos",value:Q,onInputChange:e=>_(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{placeholder:"Estrato",id:"estrato",value:Z,onInputChange:e=>ee(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})}),(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(u,{prefix:"$ ",placeholder:"Valor",id:"valor",value:P,onInputChange:e=>K(e.value),className:"input form-control rounded border-muted border-1 align-bottom text-muted text-center px-2 shadow-sm w-100"})})]}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col my-0 my-sm-2",children:(0,d.jsx)(h,{id:"descripcion",placeholder:"Descripci\xf3n",inputText:ae,onInputChange:e=>te(e.target.value),rows:3,className:"input form-control rounded border-muted border-1 align-bottom text-muted text-justify px-3 pt-5 pb-4 h-auto shadow-sm w-100"})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(m,{id:"images-secondary",placeholder:"Im\xe1genes",iconSize:3.5,iconStrokeWidth:1,multiple:!0,acceptFiles:"image/*",file:re,setFile:le,className:"input form-control border-muted text-muted pt-4 pb-3 shadow-sm"})})}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col my-2",children:(0,d.jsx)(x,{icon:(0,d.jsx)(b,{color:"#ffffff",height:1.5,width:1.5}),title:"Crear",urlApi:a,contenidoApi:JSON.stringify(pe),setResponseStatus:N,createFlag:j,className:"bg-main-color"})})})]})]})}},4885:(e,a,t)=>{t.d(a,{K:()=>o});const o=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0})}}]);
//# sourceMappingURL=2686.076a8382.chunk.js.map